# bootstrap a new site
function strap {
  cp -R ~/Code/web/bootstrap $1; cd $1;
}

# test sending gmail from console
function testmail {
  tree /var/run | mail -s "contents" michael.chadwick@gmail.com
}

# upload file to stuff.nebyoolae.com
function stuffit {
  scp $1 ${SSHUSER}@${SSHHOST}:${REMOTESTUFFDIR}
  # emails user with link if address is supplied
  if [ $? -eq 0 ]; then
    echo "${STUFFSRV}/$1" | pbcopy
    echo "Copied ${STUFFSRV}/$1 to the clipboard"
    if [ "$#" -eq 2 ]
    then
      echo "Emailing link to $2..."
      echo "${STUFFSRV}/$1" | mail -s "Link to file '$1'" $2
    fi
  else
    echo "Upload failed."
  fi
}

# check files on stuff.nebyoolae.com
function checkstuff {
  ssh -t nebyoola@ssh.nebyoolae.com "cd www/stuff.nebyoolae.com; ls -la; exit"
}

# play midi file using fluidsynth
function playmidi {
  SOUNDFONT=$HOME/Dropbox/Audio/samples/GeneralUser-GS-FluidSynth-v1.44.sf2

  if [ -e "$SOUNDFONT" ]; then
    for i in "$@"
    do
      if [ -e "$i" ]
      then
        (fluidsynth -i "$SOUNDFONT" "$i"  2>&1) >/dev/null
      else
        echo "[playmidi]: cannot find file at $i"
        return 1
      fi
    done
  else
    echo "[playmidi]: SOUNDFONT file not found at $SOUNDFONT"
    return 1
  fi
}

# query blink database
function blink() {
  open http://act.ucsd.edu/directory/search?entry=$1+$2  
}
